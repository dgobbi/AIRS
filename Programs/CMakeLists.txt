PROJECT (Programs)

INCLUDE_DIRECTORIES(${AIRS_INCLUDE_DIRS})

IF(${VTK_MAJOR_VERSION} VERSION_LESS 6)
  SET(VTK_LIBS vtkRendering vtkIO)
ELSE(${VTK_MAJOR_VERSION} VERSION_LESS 6)
  SET(VTK_LIBS vtkRenderingCore vtkRenderingImage vtkInteractionStyle
      vtkRenderingFreeType vtkIOImage vtkIOMINC vtkIOLegacy
      vtkImagingStencil vtkImagingStatistics vtksys)
  SET(VTK_EXTRA_LIBS vtkIOMPIImage
      vtkRenderingOpenGL vtkRenderingFreeTypeOpenGL
      vtkRenderingOpenGL2 vtkRenderingFreeTypeOpenGL2)
  FOREACH(TMP_LIB ${VTK_EXTRA_LIBS})
    LIST(FIND VTK_LIBRARIES ${TMP_LIB} TMP_INDEX)
    IF(TMP_INDEX GREATER -1)
      SET(VTK_LIBS ${VTK_LIBS} ${TMP_LIB})
    ENDIF(TMP_INDEX GREATER -1)
  ENDFOREACH(TMP_LIB ${VTK_EXTRA_LIBS})
  IF(VTK_MINOR_VERSION VERSION_GREATER 1)
    ADD_DEFINITIONS(-DVTK_HAS_SLAB_SPACING)
  ENDIF(VTK_MINOR_VERSION VERSION_GREATER 1)
ENDIF(${VTK_MAJOR_VERSION} VERSION_LESS 6)

ADD_EXECUTABLE(register register.cxx)
TARGET_LINK_LIBRARIES(register vtkImageRegistration ${VTK_LIBS} ${DICOM_LIBRARIES})

ADD_EXECUTABLE(skullstrip skullstrip.cxx)
TARGET_LINK_LIBRARIES(skullstrip vtkImageSegmentation ${VTK_LIBS} ${DICOM_LIBRARIES})
